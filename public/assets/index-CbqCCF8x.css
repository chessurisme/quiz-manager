*{margin:0;padding:0;box-sizing:border-box}:root{--color-brand: #97a8fc;--color-text-strong: #fff;--color-text-weak: #ced0d9;--color-stroke-strong: #9598a6;--color-stroke-weak: #363840;--color-fill: #1f2026;--color-background: #12131a;--color-success: #4caf50;--color-error: #f44336;--size-base: 18px;--size-s: calc(var(--size-base) / 1.618);--size-xs: calc(var(--size-s) / 1.618);--size-xxs: calc(var(--size-xs) / 1.618);--size-l: calc(var(--size-base) * 1.618);--size-xl: calc(var(--size-l) * 1.618);--size-xxl: calc(var(--size-xl) * 1.618);--cubic-bezier-ease-out-quad: cubic-bezier(.25, .46, .45, .94);--transition-base: .3s var(--cubic-bezier-ease-out-quad)}[data-theme=light]{--color-text-strong: #1a1a1a;--color-text-weak: #2f2f2f;--color-stroke-strong: #c9ccd6;--color-stroke-weak: #e5e7ee;--color-fill: #ffffff;--color-background: #f5f7fb}body{font-family:Inter,sans-serif;font-size:var(--size-base);background:var(--color-background);color:var(--color-text-weak);-webkit-tap-highlight-color:transparent;overflow-x:hidden}h1,h2,h3,h4,h5,h6{font-family:Libre Baskerville,serif;font-style:italic;font-weight:400;color:var(--color-text-strong)}button{cursor:pointer;font-family:Inter,sans-serif;transition:all var(--transition-base)}input,textarea,select{font-family:Inter,sans-serif}.app-container{min-height:100dvh;display:flex;flex-direction:column}.page{height:100dvh;display:flex;flex-direction:column}#app{width:100dvw;height:100dvh}.header{position:sticky;top:0;z-index:100;background:var(--color-fill);border-bottom:1px solid var(--color-stroke-weak);padding:var(--size-s);display:flex;align-items:center;gap:var(--size-s);box-sizing:border-box}.header-title{flex:1;font-size:var(--size-base);margin:0}.icon-button{width:40px;height:40px;border-radius:8px;border:none;background:transparent;display:flex;align-items:center;justify-content:center;color:var(--color-text-weak);transition:all var(--transition-base)}.icon-button:hover{background:var(--color-stroke-weak);color:var(--color-text-strong)}.sidebar{position:fixed;top:0;left:-300px;width:300px;height:100vh;background:var(--color-fill);border-right:1px solid var(--color-stroke-weak);transition:left var(--transition-base);z-index:200;display:flex;flex-direction:column;overflow-x:hidden;overflow-y:auto}.sidebar.open{left:0}.sidebar-header{padding:var(--size-l);border-bottom:1px solid var(--color-stroke-weak);box-sizing:border-box}.sidebar-logo{font-size:var(--size-l);margin:0}.sidebar-section{padding:var(--size-base);display:flex;flex-direction:column}.sidebar-section:last-child{flex:1;min-height:0}#recentQuizList{flex:1;overflow:visible;padding-right:4px}.sidebar-label{font-size:var(--size-s);color:var(--color-text-weak);margin-bottom:var(--size-xs);text-transform:uppercase;letter-spacing:1px}.folder-item{display:flex;align-items:center;gap:var(--size-xs);padding:var(--size-xs) var(--size-s);border-radius:8px;cursor:pointer;transition:all var(--transition-base);margin-bottom:var(--size-xxs);position:relative}.folder-item .icon-button{width:28px;height:28px;border-radius:6px;background:transparent;color:inherit}.folder-item .icon-button:hover{background:transparent}.folder-item i[data-lucide=square]{color:#4caf50}.folder-item i[data-lucide=triangle]{color:#ff9800}.folder-item i[data-lucide=circle]{color:#2196f3}.folder-item i[data-lucide=heart]{color:#e91e63}.folder-item i[data-lucide=folder]{color:#ffc107}.folder-item i[data-lucide=folder-plus]{color:#4caf50}.folder-item i[data-lucide=folder-minus]{color:#f44336}.folder-item:hover{transform:translate(4px);background:var(--color-stroke-weak)}.folder-item i{transition:transform .2s ease}.folder-item:hover i{transform:scale(1.1)}.folder-item.active{background:var(--color-brand);color:var(--color-text-strong)}.folder-item.delete-item{color:var(--color-error)}.folder-item.delete-item:hover{background:var(--color-error);color:var(--color-text-strong)}.folder-item.delete-item i{color:var(--color-error)}.folder-item.delete-item:hover i{color:var(--color-text-strong)}.main-content{flex:1;min-height:0;padding:var(--size-base);display:flex;flex-direction:column;box-sizing:border-box;overflow-y:auto}.home-page{display:flex;flex-direction:column}.home-container{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:var(--size-base)}.welcome-title{font-size:var(--size-l);margin-bottom:var(--size-base)}.search-bar{display:flex;align-items:center;width:100%;max-width:600px;border:2px solid var(--color-stroke-weak);border-radius:var(--size-base);padding:0 var(--size-xs);transition:border var(--transition-base);background:var(--color-fill)}.search-bar:focus-within{border-color:var(--color-brand)}.search-bar input{flex:1;height:48px;font-size:var(--size-base);background:transparent;border:none;outline:none;color:var(--color-text-strong);padding:0 var(--size-xs)}.search-bar button{width:36px;height:36px;border-radius:var(--size-s);border:none;background:var(--color-brand);display:flex;align-items:center;justify-content:center;color:var(--color-text-strong)}.action-buttons{display:flex;gap:var(--size-s);flex-wrap:wrap;justify-content:center}.btn-primary{padding:var(--size-s) var(--size-l);border-radius:var(--size-s);border:none;background:var(--color-brand);color:var(--color-text-strong);font-size:var(--size-base);font-weight:500;display:flex;align-items:center;gap:var(--size-xs)}.btn-primary:hover{filter:brightness(1.1)}.btn-secondary{padding:var(--size-s) var(--size-l);border-radius:var(--size-s);border:2px solid var(--color-stroke-weak);background:transparent;color:var(--color-text-weak);font-size:var(--size-base);font-weight:500;display:flex;align-items:center;gap:var(--size-xs)}.btn-secondary:hover{background:var(--color-fill);color:var(--color-text-strong)}.modal-overlay{position:fixed;inset:0;background:#000000b3;display:flex;align-items:flex-end;justify-content:center;z-index:300;opacity:0;pointer-events:none;transition:opacity var(--transition-base)}.sidebar-backdrop{position:fixed;inset:0;background:#0009;display:none;z-index:150}.sidebar-backdrop.open{display:block}.modal-overlay.open{opacity:1;pointer-events:auto}.modal{background:var(--color-fill);border:1px solid var(--color-stroke-weak);border-radius:var(--size-base);box-sizing:border-box;width:100%;max-width:600px;max-height:80vh;padding:var(--size-l);transform:translateY(100%);transition:transform var(--transition-base);will-change:transform}.modal-overlay.open .modal{transform:translateY(0)}.modal-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--size-l);box-sizing:border-box}.modal-title{font-size:var(--size-l);margin:0}.modal-content{overflow-y:auto;max-height:60vh;box-sizing:border-box;scrollbar-gutter:stable;overflow-anchor:none}.modal-actions{display:flex;gap:var(--size-base);margin-top:var(--size-l);justify-content:flex-end}.settings-grid{display:grid;grid-template-columns:1fr;gap:var(--size-l)}.settings-layout{display:grid;grid-template-columns:260px 1fr;gap:var(--size-base);min-height:50vh}.settings-sidebar{border-radius:var(--size-s);padding:var(--size-s);position:sticky;top:calc(var(--size-base) + 40px);height:fit-content;background:transparent}.settings-placeholder{border:1px dashed var(--color-stroke-weak);border-radius:var(--size-s);padding:var(--size-base);display:flex;flex-direction:column;gap:var(--size-s);align-items:flex-start}.settings-section h4{margin-bottom:var(--size-s)}.settings-row{display:flex;align-items:center;gap:var(--size-base)}.settings-select,.settings-input{width:100%;padding:10px;background:var(--color-background);color:var(--color-text-strong);border:1px solid var(--color-stroke-weak);border-radius:8px}.danger{background:transparent;border:2px solid var(--color-error);color:var(--color-error)}.quiz-editor{display:none;flex-direction:column;height:100%}.quiz-editor.active{display:flex}.quiz-editor-header{display:flex;align-items:center;gap:var(--size-s);padding:var(--size-s);background:var(--color-fill);border-bottom:1px solid var(--color-stroke-weak);box-sizing:border-box}.quiz-editor-title{flex:1;font-size:var(--size-base);margin:0}.lock-indicator{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:var(--color-error);border-radius:6px;cursor:pointer;transition:all var(--transition-base);color:var(--color-text-strong)}.lock-indicator:hover{background:#d32f2f;transform:scale(1.05)}.lock-indicator i{color:var(--color-text-strong)}.quiz-editor-content{flex:1;padding:var(--size-l);overflow-y:auto}.quiz-editor-footer{display:flex;align-items:center;justify-content:space-between;padding:var(--size-s);background:var(--color-fill);border-top:1px solid var(--color-stroke-weak)}.quiz-grid{display:grid;gap:var(--size-base)}.quiz-grid-mc{grid-template-columns:1fr 1fr;grid-template-rows:auto auto auto auto;grid-template-areas:"question question" "choice-1 choice-2" "choice-3 choice-4" "references references";gap:var(--size-base);align-items:stretch;min-height:400px}.quiz-grid-mc .question{grid-area:question;width:100%;min-height:80px;display:flex;flex-direction:column}.quiz-grid-mc .choice-1{grid-area:choice-1;min-height:60px;display:flex;flex-direction:column}.quiz-grid-mc .choice-2{grid-area:choice-2;min-height:60px;display:flex;flex-direction:column}.quiz-grid-mc .choice-3{grid-area:choice-3;min-height:60px;display:flex;flex-direction:column}.quiz-grid-mc .choice-4{grid-area:choice-4;min-height:60px;display:flex;flex-direction:column}.quiz-grid-mc .references{grid-area:references;width:100%;min-height:60px;display:flex;flex-direction:column}.quiz-grid-emoji,.quiz-grid-riddle,.quiz-grid-scramble{grid-template-columns:1fr}.quiz-field{background:var(--color-background);border:2px solid var(--color-stroke-weak);border-radius:var(--size-s);padding:var(--size-xs);font-size:var(--size-s);width:100%}.quiz-field.correct{border-color:var(--color-success)}.quiz-field.active{border-color:var(--color-brand);background:#97a8fc1a}.quiz-field input,.quiz-field textarea{width:100%;background:transparent;border:none;outline:none;color:var(--color-text-strong);font-size:calc(var(--size-base) / 1.12);resize:none;min-height:40px;overflow:hidden;line-height:1.4}.quiz-field textarea{flex:0 0 auto;display:block;max-height:none}.quiz-field-label{font-size:var(--size-s);color:var(--color-text-weak);margin-bottom:var(--size-xs);text-transform:uppercase;letter-spacing:1px}.results-container{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:var(--size-xl);max-width:600px;margin:0 auto}.results-header{display:flex;flex-direction:column;gap:var(--size-l)}.score-display{font-size:var(--size-xxl);font-weight:700;color:var(--color-brand)}.results-summary{display:flex;flex-direction:column;gap:var(--size-base)}.summary-stats{display:flex;gap:var(--size-xl);justify-content:center}.stat-item{display:flex;align-items:center;gap:var(--size-xs);font-size:var(--size-base);color:var(--color-text-weak)}.stat-item i{color:var(--color-success)}.stat-item:last-child i{color:var(--color-error)}.results-actions{display:flex;gap:var(--size-base);flex-wrap:wrap;justify-content:center}.feedback-question,.feedback-answer,.feedback-references{margin-bottom:var(--size-l)}.feedback-text{background:var(--color-background);border:1px solid var(--color-stroke-weak);border-radius:var(--size-s);padding:var(--size-base);color:var(--color-text-strong);min-height:20px}.feedback-result{display:flex;align-items:center;gap:var(--size-s);padding:var(--size-base);border-radius:var(--size-s);margin-top:var(--size-base);font-weight:600;font-size:var(--size-base)}.feedback-result.correct{background:#4caf501a;border:1px solid var(--color-success);color:var(--color-success)}.feedback-result.incorrect{background:#f443361a;border:1px solid var(--color-error);color:var(--color-error)}.quiz-index{display:flex;gap:var(--size-xs);margin-bottom:var(--size-base);flex-wrap:wrap;justify-content:center}.index-button{width:32px;height:32px;border-radius:4px;border:1px solid var(--color-stroke-weak);background:transparent;color:var(--color-text-weak);font-size:var(--size-s)}.index-button.active{background:var(--color-brand);color:var(--color-text-strong);border-color:var(--color-brand)}#questionProgressBtn{width:auto;padding:0 var(--size-base);white-space:nowrap;display:inline-flex;align-items:center;justify-content:center}.search-info{padding:var(--size-base);border-bottom:1px solid var(--color-stroke-weak);background:var(--color-fill)}.search-query{display:flex;align-items:center;gap:var(--size-xs);margin-bottom:var(--size-xs);color:var(--color-text-strong);font-weight:500}.search-query i{color:var(--color-brand)}.search-stats{font-size:var(--size-s);color:var(--color-text-weak)}.search-result-item{border-left:none;background:var(--color-fill);margin-bottom:var(--size-xs);transition:all var(--transition-base)}.search-result-item:hover{background:var(--color-stroke-weak);transform:translate(4px)}.search-result-content{display:flex;flex-direction:column;gap:var(--size-xxs);flex:1;min-width:0}.search-result-title{font-weight:500;color:var(--color-text-strong);font-size:var(--size-base)}.search-result-details{font-size:var(--size-s);color:var(--color-text-weak);line-height:1.4;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.no-results{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--size-xl);text-align:center;color:var(--color-text-weak)}.no-results i{color:var(--color-stroke-strong);margin-bottom:var(--size-base)}.no-results h3{margin-bottom:var(--size-s);color:var(--color-text-strong)}.no-results p{font-size:var(--size-s)}.accordion-item{border:1px solid var(--color-stroke-weak);border-radius:var(--size-s);overflow:hidden}.accordion-item+.accordion-item{margin-top:var(--size-xs)}.accordion-header{display:flex;align-items:center;gap:var(--size-s);cursor:pointer}.accordion-caret{margin-left:var(--size-xs);color:var(--color-text-weak);transition:transform var(--transition-base)}.accordion-item.open .accordion-caret{transform:rotate(180deg)}.accordion-body{display:none;background:var(--color-background);border-top:1px solid var(--color-stroke-weak)}.accordion-item.open .accordion-body{display:block}.search-match-row{display:flex;gap:var(--size-s);align-items:baseline;padding:var(--size-xs) var(--size-base);cursor:pointer}.search-match-row:hover{background:var(--color-fill)}.search-match-index{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;color:var(--color-text-strong);font-weight:600}.search-match-preview{color:var(--color-text-weak);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-match-empty{padding:var(--size-xs) var(--size-base);color:var(--color-text-weak)}@media (max-width: 768px){.sidebar{width:80%;left:-80%}.modal{max-width:100%}.quiz-grid-mc{grid-template-columns:1fr 1fr;grid-template-rows:auto auto auto auto;grid-template-areas:"question question" "choice-1 choice-2" "choice-3 choice-4" "references references";gap:var(--size-xs)}.settings-layout{grid-template-columns:1fr}.settings-sidebar{position:static}}.hidden{display:none!important}.disabled{opacity:.5;pointer-events:none}.quiz-play-container{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:60vh;padding:var(--size-xl);text-align:center;gap:var(--size-xl);animation:fadeInUp .6s ease-out;position:relative;background:radial-gradient(circle at center,rgba(151,168,252,.03) 0%,transparent 70%)}.quiz-play-container:before{content:"";position:absolute;inset:0;background-image:radial-gradient(circle at 20% 80%,rgba(151,168,252,.05) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(151,168,252,.05) 0%,transparent 50%);pointer-events:none;z-index:-1}@keyframes fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.quiz-play-question h2{font-size:var(--size-xl);color:var(--color-text-strong);margin:0;line-height:1.3;max-width:800px;font-weight:500;text-align:center;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;text-shadow:0 1px 2px rgba(0,0,0,.1)}.quiz-play-choices{display:flex;flex-direction:column;gap:var(--size-base);width:100%;max-width:600px;margin:0 auto}.quiz-play-choice{display:flex;align-items:center;gap:var(--size-base);padding:var(--size-base) var(--size-l);background:var(--color-fill);border:2px solid var(--color-stroke-weak);border-radius:var(--size-s);cursor:pointer;transition:all var(--transition-base);text-align:left;position:relative;overflow:hidden}.quiz-play-choice:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(151,168,252,.1),transparent);transition:left .5s ease}.quiz-play-choice:hover:before{left:100%}.quiz-play-choice:hover{border-color:var(--color-brand);background:#97a8fc1a;transform:translateY(-2px)}.quiz-play-choice.active{border-color:var(--color-brand);background:#97a8fc33;box-shadow:0 4px 12px #97a8fc4d}.choice-number{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:var(--color-brand);color:var(--color-text-strong);border-radius:50%;font-weight:600;font-size:var(--size-s);flex-shrink:0}.choice-text{font-size:var(--size-base);color:var(--color-text-strong);font-weight:500;flex:1}.quiz-play-emoji{margin:var(--size-xl) 0}.emoji-display{font-size:var(--size-xl);line-height:1;display:block;filter:drop-shadow(0 4px 8px rgba(0,0,0,.3));transition:transform .3s ease,filter .3s ease;cursor:default}.emoji-display:hover{transform:scale(1.1);filter:drop-shadow(0 8px 16px rgba(0,0,0,.4))}.quiz-play-scrambled{margin:var(--size-xl) 0}.scrambled-word{font-size:4rem;font-weight:700;color:var(--color-brand);letter-spacing:.2em;text-shadow:0 2px 4px rgba(0,0,0,.3);font-family:Inter,sans-serif;text-transform:uppercase;transition:all .3s ease;cursor:default;-webkit-user-select:none;user-select:none}.scrambled-word:hover{transform:scale(1.05);text-shadow:0 4px 8px rgba(0,0,0,.4);color:var(--color-text-strong)}.quiz-play-answer-input{width:100%;max-width:500px;margin-top:var(--size-l)}.quiz-play-text-input{width:100%;padding:var(--size-base) var(--size-l);font-size:var(--size-l);background:var(--color-fill);border:3px solid var(--color-stroke-weak);border-radius:var(--size-s);color:var(--color-text-strong);text-align:center;text-transform:uppercase;font-weight:600;letter-spacing:.1em;transition:all var(--transition-base)}.quiz-play-text-input:focus{outline:none;border-color:var(--color-brand);background:var(--color-background);box-shadow:0 0 0 4px #97a8fc33;transform:scale(1.02)}.quiz-play-text-input:not(:placeholder-shown){border-color:var(--color-stroke-strong);background:var(--color-fill)}.quiz-play-text-input::placeholder{color:var(--color-text-weak);text-transform:none;font-weight:400;letter-spacing:normal}@media (max-width: 768px){.quiz-play-container{padding:var(--size-base);gap:var(--size-l);min-height:50vh}.quiz-play-question h2,.emoji-display{font-size:var(--size-l)}.scrambled-word{font-size:3rem;letter-spacing:.1em}.quiz-play-text-input{font-size:var(--size-base);padding:var(--size-s) var(--size-base)}.quiz-play-choice{padding:var(--size-s) var(--size-base)}.choice-number{width:28px;height:28px;font-size:var(--size-xs)}}.quiz-editor.active .quiz-editor-content{height:100dvh;overflow:auto;box-sizing:border-box}.quiz-editor.active .quiz-editor-content .quiz-grid{height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:var(--size-l);box-sizing:border-box}.quiz-editor.active .quiz-editor-content .quiz-grid-mc{max-width:800px;width:100%;height:auto;margin:auto;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:auto auto auto auto;grid-template-areas:"question question" "choice-1 choice-2" "choice-3 choice-4" "references references";gap:var(--size-s)}.quiz-grid-mc.quiz-play-mode{text-align:center}.quiz-grid-mc.quiz-play-mode .quiz-field textarea{text-align:center;resize:none;min-height:60px;display:flex;align-items:center;justify-content:center;font-size:1.1rem;font-weight:500}.quiz-grid-mc.quiz-play-mode .question textarea{font-size:1.3rem;font-weight:600;min-height:80px}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.update-notification{position:fixed;top:20px;right:20px;background:var(--color-success);color:#fff;padding:16px 20px;border-radius:8px;box-shadow:0 4px 12px #00000026;z-index:1000;max-width:300px;transform:translate(100%);transition:transform .3s ease-out;display:flex;align-items:center;gap:12px}.update-notification.show{transform:translate(0)}.update-notification.hide{transform:translate(100%)}.update-notification .update-content{flex:1}.update-notification .update-title{font-weight:600;margin-bottom:4px;font-size:14px}.update-notification .update-message{font-size:13px;opacity:.9}.update-notification .update-actions{display:flex;gap:8px}.update-notification .btn-update{background:#fff3;border:1px solid rgba(255,255,255,.3);color:#fff;padding:6px 12px;border-radius:6px;font-size:12px;cursor:pointer;transition:all .2s ease}.update-notification .btn-update:hover{background:#ffffff4d;border-color:#fff6}.update-notification .btn-dismiss{background:transparent;border:1px solid rgba(255,255,255,.3);color:#fff;padding:6px 12px;border-radius:6px;font-size:12px;cursor:pointer;transition:all .2s ease}.update-notification .btn-dismiss:hover{background:#ffffff1a;border-color:#fff6}.update-notification.updating{background:var(--color-stroke-weak)}.update-notification.updating .update-title{color:var(--color-text-strong)}.update-notification.updating .update-message{color:var(--color-text-weak)}@media (max-width: 768px){.update-notification{top:10px;right:10px;left:10px;max-width:none;transform:translateY(-100%)}.update-notification.show{transform:translateY(0)}.update-notification.hide{transform:translateY(-100%)}.update-notification .update-actions{flex-direction:column;width:100%;margin-top:12px}.update-notification .btn-update,.update-notification .btn-dismiss{width:100%;text-align:center}}
